# 3.3.2. Resolved Tags

Typically, most [tags](https://yaml.org/spec/1.2.2/#tags) are not explicitly specified in the character [stream](https://yaml.org/spec/1.2.2/#streams). During [parsing](https://yaml.org/spec/1.2.2/#parsing-the-presentation-stream), [nodes](https://yaml.org/spec/1.2.2/#nodes) lacking an explicit [tag](https://yaml.org/spec/1.2.2/#tags) are given a *non-specific tag*: "`!`" for non-[plain scalars](https://yaml.org/spec/1.2.2/#plain-style) and "`?`" for all other [nodes](https://yaml.org/spec/1.2.2/#nodes). [Composing](https://yaml.org/spec/1.2.2/#composing-the-representation-graph) a [complete representation](https://yaml.org/spec/1.2.2/#loading-failure-points) requires each such non-specific tag to be *resolved* to a *specific tag*, be it a [global tag](https://yaml.org/spec/1.2.2/#tags) or a [local tag](https://yaml.org/spec/1.2.2/#tags).

Resolving the [tag](https://yaml.org/spec/1.2.2/#tags) of a [node](https://yaml.org/spec/1.2.2/#nodes) must only depend on the following three parameters: (1) the non-specific tag of the [node](https://yaml.org/spec/1.2.2/#nodes), (2) the path leading from the [root](https://yaml.org/spec/1.2.2/#representation-graph) to the [node](https://yaml.org/spec/1.2.2/#nodes) and (3) the [content](https://yaml.org/spec/1.2.2/#nodes) (and hence the [kind](https://yaml.org/spec/1.2.2/#nodes)) of the [node](https://yaml.org/spec/1.2.2/#nodes). When a [node](https://yaml.org/spec/1.2.2/#nodes) has more than one occurrence (using [aliases](https://yaml.org/spec/1.2.2/#anchors-and-aliases)), tag resolution must depend only on the path to the first ([anchored](https://yaml.org/spec/1.2.2/#anchors-and-aliases)) occurrence of the [node](https://yaml.org/spec/1.2.2/#nodes).

Note that resolution must not consider [presentation details](https://yaml.org/spec/1.2.2/#presenting-the-serialization-tree) such as [comments](https://yaml.org/spec/1.2.2/#comments), [indentation](https://yaml.org/spec/1.2.2/#indentation-spaces) and [node style](https://yaml.org/spec/1.2.2/#node-styles). Also, resolution must not consider the [content](https://yaml.org/spec/1.2.2/#nodes) of any other [node](https://yaml.org/spec/1.2.2/#nodes), except for the [content](https://yaml.org/spec/1.2.2/#nodes) of the [key nodes](https://yaml.org/spec/1.2.2/#mapping) directly along the path leading from the [root](https://yaml.org/spec/1.2.2/#representation-graph) to the resolved [node](https://yaml.org/spec/1.2.2/#nodes). Finally, resolution must not consider the [content](https://yaml.org/spec/1.2.2/#nodes) of a sibling [node](https://yaml.org/spec/1.2.2/#nodes) in a [collection](https://yaml.org/spec/1.2.2/#collections) or the [content](https://yaml.org/spec/1.2.2/#nodes) of the [value node](https://yaml.org/spec/1.2.2/#nodes) associated with a [key node](https://yaml.org/spec/1.2.2/#mapping) being resolved.

These rules ensure that tag resolution can be performed as soon as a [node](https://yaml.org/spec/1.2.2/#nodes) is first encountered in the [stream](https://yaml.org/spec/1.2.2/#streams), typically before its [content](https://yaml.org/spec/1.2.2/#nodes) is [parsed](https://yaml.org/spec/1.2.2/#parsing-the-presentation-stream). Also, tag resolution only requires referring to a relatively small number of previously parsed [nodes](https://yaml.org/spec/1.2.2/#nodes). Thus, in most cases, tag resolution in one-pass [processors](https://yaml.org/spec/1.2.2/#processes-and-models) is both possible and practical.

YAML [processors](https://yaml.org/spec/1.2.2/#processes-and-models) should resolve [nodes](https://yaml.org/spec/1.2.2/#nodes) having the "`!`" non-specific tag as "`tag:yaml.org,2002:seq`", "`tag:yaml.org,2002:map`" or "`tag:yaml.org,2002:str`" depending on their [kind](https://yaml.org/spec/1.2.2/#nodes). This *tag resolution convention* allows the author of a YAML character [stream](https://yaml.org/spec/1.2.2/#streams) to effectively "disable" the tag resolution process. By explicitly specifying a "`!`" non-specific [tag property](https://yaml.org/spec/1.2.2/#node-tags), the [node](https://yaml.org/spec/1.2.2/#nodes) would then be resolved to a "vanilla" [sequence](https://yaml.org/spec/1.2.2/#sequence), [mapping](https://yaml.org/spec/1.2.2/#mapping) or string, according to its [kind](https://yaml.org/spec/1.2.2/#nodes).