# 6.5. Line Folding

*Line folding* allows long lines to be broken for readability, while retaining the semantics of the original long line. If a [line break](https://yaml.org/spec/1.2.2/#line-break-characters) is followed by an [empty line](https://yaml.org/spec/1.2.2/#empty-lines), it is *trimmed*; the first [line break](https://yaml.org/spec/1.2.2/#line-break-characters) is discarded and the rest are retained as [content](https://yaml.org/spec/1.2.2/#nodes).

```
[71] b-l-trimmed(n,c) ::=
  b-non-content
  l-empty(n,c)+
```

Otherwise (the following line is not [empty](https://yaml.org/spec/1.2.2/#empty-lines)), the [line break](https://yaml.org/spec/1.2.2/#line-break-characters) is converted to a single [space](https://yaml.org/spec/1.2.2/#white-space-characters) (`x20`).

```
[72] b-as-space ::=
  b-break
```

A folded non- [empty line](https://yaml.org/spec/1.2.2/#empty-lines) may end with either of the above [line breaks](https://yaml.org/spec/1.2.2/#line-break-characters).

```
[73] b-l-folded(n,c) ::=
  b-l-trimmed(n,c) | b-as-space
```

**Example 6.6 Line Folding**

| ``` >-   trimmed↓ ··↓ ·↓ ↓   as↓   space ``` | ```json "trimmed\n\n\nas space" ``` |
| --- | --- |

**Legend:**

- `[b-l-trimmed(n,c)](https://yaml.org/spec/1.2.2/#rule-b-l-trimmed)`
- `[b-as-space](https://yaml.org/spec/1.2.2/#rule-b-as-space)`

The above rules are common to both the [folded block style](https://yaml.org/spec/1.2.2/#block-folding) and the [scalar flow styles](https://yaml.org/spec/1.2.2/#flow-scalar-styles). Folding does distinguish between these cases in the following way:

## Block Folding

In the [folded block style](https://yaml.org/spec/1.2.2/#block-folding), the final [line break](https://yaml.org/spec/1.2.2/#line-break-characters) and trailing [empty lines](https://yaml.org/spec/1.2.2/#empty-lines) are subject to [chomping](https://yaml.org/spec/1.2.2/#block-chomping-indicator) and are never folded. In addition, folding does not apply to [line breaks](https://yaml.org/spec/1.2.2/#line-break-characters) surrounding text lines that contain leading [white space](https://yaml.org/spec/1.2.2/#white-space-characters). Note that such a [more-indented](https://yaml.org/spec/1.2.2/#example-more-indented-lines) line may consist only of such leading [white space](https://yaml.org/spec/1.2.2/#white-space-characters).

The combined effect of the *block line folding* rules is that each "paragraph" is interpreted as a line, [empty lines](https://yaml.org/spec/1.2.2/#empty-lines) are interpreted as a line feed and the formatting of [more-indented](https://yaml.org/spec/1.2.2/#example-more-indented-lines) lines is preserved.

**Example 6.7 Block Folding**

| ``` > ··foo·↓ ·↓ ··→·bar↓ ↓ ··baz↓ ``` | ```json "foo \n\n\t bar\n\nbaz\n" ``` |
| --- | --- |

**Legend:**

- `[b-l-folded(n,c)](https://yaml.org/spec/1.2.2/#rule-b-l-folded)`
- `Non-content spaces`
- `Content spaces`

## Flow Folding

Folding in [flow styles](https://yaml.org/spec/1.2.2/#flow-style-productions) provides more relaxed semantics.[Flow styles](https://yaml.org/spec/1.2.2/#flow-style-productions) typically depend on explicit [indicators](https://yaml.org/spec/1.2.2/#indicator-characters) rather than [indentation](https://yaml.org/spec/1.2.2/#indentation-spaces) to convey structure. Hence spaces preceding or following the text in a line are a [presentation detail](https://yaml.org/spec/1.2.2/#presenting-the-serialization-tree) and must not be used to convey [content](https://yaml.org/spec/1.2.2/#nodes) information. Once all such spaces have been discarded, all [line breaks](https://yaml.org/spec/1.2.2/#line-break-characters) are folded without exception.

The combined effect of the *flow line folding* rules is that each "paragraph" is interpreted as a line, [empty lines](https://yaml.org/spec/1.2.2/#empty-lines) are interpreted as line feeds and text can be freely [more-indented](https://yaml.org/spec/1.2.2/#example-more-indented-lines) without affecting the [content](https://yaml.org/spec/1.2.2/#nodes) information.

```
[74] s-flow-folded(n) ::=
  s-separate-in-line?
  b-l-folded(n,FLOW-IN)
  s-flow-line-prefix(n)
```

**Example 6.8 Flow Folding**

| ``` "↓ ··foo·↓ ·↓ ··→·bar↓ ↓ ··baz↓ " ``` | ```json " foo\nbar\nbaz " ``` |
| --- | --- |

**Legend:**

- `[s-flow-folded(n)](https://yaml.org/spec/1.2.2/#rule-s-flow-folded)`
- `Non-content spaces`