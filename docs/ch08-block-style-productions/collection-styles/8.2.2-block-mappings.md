# 8.2.2. Block Mappings

A *Block mapping* is a series of entries, each [presenting](https://yaml.org/spec/1.2.2/#presenting-the-serialization-tree) a [key/value pair](https://yaml.org/spec/1.2.2/#mapping).

```
[187] l+block-mapping(n) ::=
  (
    s-indent(n+1+m)
    ns-l-block-map-entry(n+1+m)
  )+
```

**Example 8.16 Block Mappings**

| ``` block mapping: ·key: value↓ ``` | ```json { "block mapping": {     "key": "value" } } ``` |
| --- | --- |

**Legend:**

- `[ns-l-block-map-entry(n)](https://yaml.org/spec/1.2.2/#rule-ns-l-block-map-entry)`
- `auto-detected [s-indent(n)](https://yaml.org/spec/1.2.2/#rule-s-indent)`

If the "`?`" indicator is specified, the optional value node must be specified on a separate line, denoted by the "`:`" indicator. Note that YAML allows here the same [compact in-line notation](https://yaml.org/spec/1.2.2/#example-block-sequence) described above for [block sequence](https://yaml.org/spec/1.2.2/#block-sequences) entries.

```
[188] ns-l-block-map-entry(n) ::=
    c-l-block-map-explicit-entry(n)
  | ns-l-block-map-implicit-entry(n)
```
```
[189] c-l-block-map-explicit-entry(n) ::=
  c-l-block-map-explicit-key(n)
  (
      l-block-map-explicit-value(n)
    | e-node                        # ""
  )
```
```
[190] c-l-block-map-explicit-key(n) ::=
  c-mapping-key                     # '?' (not followed by non-ws char)
  s-l+block-indented(n,BLOCK-OUT)
```
```
[191] l-block-map-explicit-value(n) ::=
  s-indent(n)
  c-mapping-value                   # ':' (not followed by non-ws char)
  s-l+block-indented(n,BLOCK-OUT)
```

**Example 8.17 Explicit Block Mapping Entries**

| ``` ? explicit key # Empty value↓° ? \|   block key↓ :·- one # Explicit compact ··- two # block value↓ ``` | ```json { "explicit key": null,   "block key\n": [     "one",     "two" ] } ``` |
| --- | --- | --- |

**Legend:**

- `[c-l-block-map-explicit-key(n)](https://yaml.org/spec/1.2.2/#rule-c-l-block-map-explicit-key)`
- `[l-block-map-explicit-value(n)](https://yaml.org/spec/1.2.2/#rule-l-block-map-explicit-value)`
- `[e-node](https://yaml.org/spec/1.2.2/#rule-e-node)`

If the "`?`" indicator is omitted, [parsing](https://yaml.org/spec/1.2.2/#parsing-the-presentation-stream) needs to see past the [implicit key](https://yaml.org/spec/1.2.2/#example-single-pair-explicit-entry), in the same way as in the [single key/value pair](https://yaml.org/spec/1.2.2/#mapping) [flow mapping](https://yaml.org/spec/1.2.2/#flow-mappings). Hence, such [keys](https://yaml.org/spec/1.2.2/#nodes) are subject to the same restrictions; they are limited to a single line and must not span more than 1024 Unicode characters.

```
[192] ns-l-block-map-implicit-entry(n) ::=
  (
      ns-s-block-map-implicit-key
    | e-node    # ""
  )
  c-l-block-map-implicit-value(n)
```
```
[193] ns-s-block-map-implicit-key ::=
    c-s-implicit-json-key(BLOCK-KEY)
  | ns-s-implicit-yaml-key(BLOCK-KEY)
```

In this case, the [value](https://yaml.org/spec/1.2.2/#nodes) may be specified on the same line as the [implicit key](https://yaml.org/spec/1.2.2/#example-single-pair-explicit-entry). Note however that in block mappings the [value](https://yaml.org/spec/1.2.2/#nodes) must never be adjacent to the "`:`", as this greatly reduces readability and is not required for [JSON compatibility](https://yaml.org/spec/1.2.2/#yaml-directives) (unlike the case in [flow mappings](https://yaml.org/spec/1.2.2/#flow-mappings)).

There is no compact notation for in-line [values](https://yaml.org/spec/1.2.2/#nodes). Also, while both the [implicit key](https://yaml.org/spec/1.2.2/#example-single-pair-explicit-entry) and the [value](https://yaml.org/spec/1.2.2/#nodes) following it may be empty, the "`:`" indicator is mandatory. This prevents a potential ambiguity with multi-line [plain scalars](https://yaml.org/spec/1.2.2/#plain-style).

```
[194] c-l-block-map-implicit-value(n) ::=
  c-mapping-value           # ':' (not followed by non-ws char)
  (
      s-l+block-node(n,BLOCK-OUT)
    | (
        e-node    # ""
        s-l-comments
      )
  )
```

**Example 8.18 Implicit Block Mapping Entries**

| ``` plain key: in-line value °:° # Both empty "quoted key": - entry ``` | ```json { "plain key": "in-line value",   null: null,   "quoted key": [ "entry" ] } ``` |
| --- | --- |

**Legend:**

- `[ns-s-block-map-implicit-key](https://yaml.org/spec/1.2.2/#rule-ns-s-block-map-implicit-key)`
- `[c-l-block-map-implicit-value(n)](https://yaml.org/spec/1.2.2/#rule-c-l-block-map-implicit-value)`

A [compact in-line notation](https://yaml.org/spec/1.2.2/#example-block-sequence) is also available. This compact notation may be nested inside [block sequences](https://yaml.org/spec/1.2.2/#block-sequences) and explicit block mapping entries. Note that it is not possible to specify [node properties](https://yaml.org/spec/1.2.2/#node-properties) for such a nested mapping.

```
[195] ns-l-compact-mapping(n) ::=
  ns-l-block-map-entry(n)
  (
    s-indent(n)
    ns-l-block-map-entry(n)
  )*
```

**Example 8.19 Compact Block Mappings**

| ``` - sun: yellow↓ - ? earth: blue↓   : moon: white↓ ``` | ```json [ { "sun": "yellow" },   { { "earth": "blue" }:       { "moon": "white" } } ] ``` |
| --- | --- |

**Legend:**

- `[ns-l-compact-mapping(n)](https://yaml.org/spec/1.2.2/#rule-ns-l-compact-mapping)`