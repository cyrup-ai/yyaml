# 8.2.3. Block Nodes

YAML allows [flow nodes](https://yaml.org/spec/1.2.2/#flow-nodes) to be embedded inside [block collections](https://yaml.org/spec/1.2.2/#block-collection-styles) (but not vice-versa).[Flow nodes](https://yaml.org/spec/1.2.2/#flow-nodes) must be [indented](https://yaml.org/spec/1.2.2/#indentation-spaces) by at least one more [space](https://yaml.org/spec/1.2.2/#white-space-characters) than the parent [block collection](https://yaml.org/spec/1.2.2/#block-collection-styles). Note that [flow nodes](https://yaml.org/spec/1.2.2/#flow-nodes) may begin on a following line.

It is at this point that [parsing](https://yaml.org/spec/1.2.2/#parsing-the-presentation-stream) needs to distinguish between a [plain scalar](https://yaml.org/spec/1.2.2/#plain-style) and an [implicit key](https://yaml.org/spec/1.2.2/#example-single-pair-explicit-entry) starting a nested [block mapping](https://yaml.org/spec/1.2.2/#block-mappings).

```
[196] s-l+block-node(n,c) ::=
    s-l+block-in-block(n,c)
  | s-l+flow-in-block(n)
```
```
[197] s-l+flow-in-block(n) ::=
  s-separate(n+1,FLOW-OUT)
  ns-flow-node(n+1,FLOW-OUT)
  s-l-comments
```

**Example 8.20 Block Node Types**

| ``` -↓ ··"flow in block"↓ -·>  Block scalar↓ -·!!map # Block collection   foo : bar↓ ``` | ```json [ "flow in block",   "Block scalar\n",   { "foo": "bar" } ] ``` |
| --- | --- |

**Legend:**

- `[s-l+flow-in-block(n)](https://yaml.org/spec/1.2.2/#rule-s-l+flow-in-block)`
- `[s-l+block-in-block(n,c)](https://yaml.org/spec/1.2.2/#rule-s-l+block-in-block)`

The block [node's properties](https://yaml.org/spec/1.2.2/#node-properties) may span across several lines. In this case, they must be [indented](https://yaml.org/spec/1.2.2/#indentation-spaces) by at least one more [space](https://yaml.org/spec/1.2.2/#white-space-characters) than the [block collection](https://yaml.org/spec/1.2.2/#block-collection-styles), regardless of the [indentation](https://yaml.org/spec/1.2.2/#indentation-spaces) of the [block collection](https://yaml.org/spec/1.2.2/#block-collection-styles) entries.

```
[198] s-l+block-in-block(n,c) ::=
    s-l+block-scalar(n,c)
  | s-l+block-collection(n,c)
```
```
[199] s-l+block-scalar(n,c) ::=
  s-separate(n+1,c)
  (
    c-ns-properties(n+1,c)
    s-separate(n+1,c)
  )?
  (
      c-l+literal(n)
    | c-l+folded(n)
  )
```

**Example 8.21 Block Scalar Nodes**

| ``` literal: \|2 ··value folded:↓ ···!foo ··>1 ·value ``` | ```json { "literal": "value",   "folded": !<!foo> "value" } ``` |
| --- | --- | --- |

**Legend:**

- `[c-l+literal(n)](https://yaml.org/spec/1.2.2/#rule-c-l+literal)`
- `[c-l+folded(n)](https://yaml.org/spec/1.2.2/#rule-c-l+folded)`

Since people perceive the " `-` " indicator as [indentation](https://yaml.org/spec/1.2.2/#indentation-spaces), nested [block sequences](https://yaml.org/spec/1.2.2/#block-sequences) may be [indented](https://yaml.org/spec/1.2.2/#indentation-spaces) by one less [space](https://yaml.org/spec/1.2.2/#white-space-characters) to compensate, except, of course, if nested inside another [block sequence](https://yaml.org/spec/1.2.2/#block-sequences) (\[`BLOCK-OUT` context\] versus \[`BLOCK-IN` context\]).

```
[200] s-l+block-collection(n,c) ::=
  (
    s-separate(n+1,c)
    c-ns-properties(n+1,c)
  )?
  s-l-comments
  (
      seq-space(n,c)
    | l+block-mapping(n)
  )
```
```
[201] seq-space(n,BLOCK-OUT) ::= l+block-sequence(n-1)
    seq-space(n,BLOCK-IN)  ::= l+block-sequence(n)
```

**Example 8.22 Block Collection Nodes**

| ``` sequence: !!seq - entry - !!seq  - nested mapping: !!map  foo: bar ``` | ```json { "sequence": [     "entry",     [ "nested" ] ],   "mapping": { "foo": "bar" } } ``` |
| --- | --- |

**Legend:**

- `[s-l+block-collection(n,c)](https://yaml.org/spec/1.2.2/#rule-s-l+block-collection)`
- `[l+block-sequence(n)](https://yaml.org/spec/1.2.2/#rule-l+block-sequence)`
- `[l+block-mapping(n)](https://yaml.org/spec/1.2.2/#rule-l+block-mapping)`